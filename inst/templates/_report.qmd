---
title: MetaCheck Report
subtitle: "%s"
metacheck:
  version: "%s"
  report-created: "%s"
format:
  html:
    theme: 
      light: flatly
      dark: darkly
    respect-user-color-scheme: true
    toc: true
    toc-title: >
      <ul>
        <li class="green">no problems detected;</li>  
        <li class="yellow">something to check;</li> 
        <li class="red">possible problems detected;</li>  
        <li class="info">informational only;</li>  
        <li class="na">not applicable;</li>  
        <li class="fail">check failed</li>
      <ul>
      <hr/>
      **Table of Contents**
    toc-location: right
    toc-expand: 3
    page-layout: full
    title-block-banner: "#327118"
    title-block-banner-color: "white"
    link-external-newwindow: true
    embed-resources: true
    format-links: false
execute: 
  echo: false
  error: true
---

<style>
  main h2, main h3 { margin-left: -20px; }
  main h3 { font-size: 125%; }
  main h4 { font-size: 110%; }
  .na::before     { content: '‚ö™ '; } /* ‚ö™ */
  .fail::before   { content: '‚ò†Ô∏è '; } /* ‚ö´Ô∏è */
  .info::before   { content: '‚ÑπÔ∏è '; } /* üîµ */
  .red::before    { content: '‚ö†Ô∏è '; } /* üî¥ */
  .yellow::before { content: 'Ô∏èüîç '; } /* üü° */
  .green::before  { content: '‚úÖ '; } /* üü¢ */
  section::before { content: '' !important; }
  th { background-color: #555; color: white; }
  table.dataTable, .dataTables_scrollBody { margin: 0.5em 0; }
  #info { position: absolute; top: 2.5em; right: 2.5em; color: white; }
  #info a { color: white !important; }
  .quarto-dark tr.even { background-color: #333; }
  .quarto-dark tr.odd { background-color: #222; }
  .quarto-dark div.datatables { color: white; }
  .quarto-dark table.dataTable { border: 1px solid #555; }
</style>

::: {#info}
[MetaCheck](http://www.scienceverse.org/metacheck) version {{< meta metacheck.version >}}  
Report Created: {{< meta metacheck.report-created >}}  
%s <!-- doi, if exists -->
:::

[Metacheck](https://www.scienceverse.org/metacheck/) is a tool that screens scientific manuscripts and aims to identify potential issues for improvement, thereby guiding researchers towards best practices. Metacheck is developed to help researchers correctly and completely report statistical results, automatically retrieve possible relevant information about citations, and improve how researchers share data, code, and preregistrations.

::: {.callout-tip title="Learn More" collapse="true"}

Metacheck combines existing and new checks in a module-based tool. It mainly relies on text search, retrieving information from external sources through API‚Äôs or web-scraping, but it also incorporates tool that use machine learning classifiers or large language models. The use of LLM‚Äôs is always optional. The development of Metacheck is guided by our [values statement](https://docs.google.com/document/d/1bbIkgUaiz3fpTXAeTF3h-gsfhqWEBN_n6OBcbFLfXjw/edit?tab=t.0). 

Metacheck often needs to balance false positives against false negatives, and prioritizes preventing false negatives. Like a spelling checker, which often highlights words that are not spelled incorrectly, Metacheck modules will contain false positives. We hope their rate is acceptable, given opportunities for improvement that Metacheck identifies. Modules are currently primarily validated on the psychological literature.

Metacheck is under continuous development. Issues can be submitted [on Github](https://github.com/scienceverse/metacheck/issues), and suggestions for improvement or feedback can be sent to D.Lakens@tue.nl.

:::

## Demo

```{r}
#| include: false
library(metacheck)
```


Everything below here is for test purposes and removed when using this template to create a report.

## Styles

### No problems detected {.green} 

Detected evidence of good practice or no evidence of poor practice.

### Something to check {.yellow}

Detected something you should check.

### Possible problems detected {.red}

A possible poor practice detected.

### Informational only {.info}

Info that isn't necessarily good/questionable/poor practice.

### Not applicable {.na}

This check isn't relevant to this paper.

### Check failed {.fail}

This is usually when something goes wroing and there is an uncaught error in the module.

## Module Helpers

### Scroll Tables {.info}

#### Default Scroll Tables

Create this in your module report code with `scroll_table(table)`.

```{r}
#| echo: false
# table options

# table data ------------------------------------
table <- structure(list(id = 1:5, text = c("Lorem semper tempus libero habitant faucibus cursus venenatis natoque volutpat est ultricies penatibus nisl lacinia.", 
"Lorem cras bibendum facilisi porta sagittis a convallis fames erat dui netus cubilia.", 
"Adipiscing auctor litora scelerisque tincidunt ullamcorper volutpat mattis ultrices lectus rutrum.", 
"Elit nisi cras pharetra etiam semper sollicitudin interdum magnis facilisi.", 
"Ipsum per platea varius vel condimentum posuere gravida cum laoreet commodo."
)), class = "data.frame", row.names = c(NA, -5L))

# table setup -----------------------------------
cd <- list()
options <- list(dom = "<'top'p>", ordering = FALSE, pageLength = 2, columnDefs = cd)
DT::datatable(table, options, selection = "none", rownames = FALSE, escape = FALSE)
```

#### Scroll Tables with Vectors

If you pass a character vector instead of a table, it will display without a header `scroll_table(vector)`.

```{r}
#| echo: false
# table options

# table data ------------------------------------
table <- structure(list(c(
  "Amet accumsan inceptos aliquam cras non commodo sapien vulputate diam odio fermentum magnis ornare tristique.", 
  "Lorem habitant sem enim libero nostra lacus pharetra aptent rutrum vehicula.",
  "Ipsum taciti non pharetra morbi bibendum sociis congue risus pellentesque elementum!", 
  "Elit fringilla penatibus proin diam erat torquent iaculis vestibulum platea dictumst ligula.", 
  "Amet conubia ultricies arcu consequat mattis auctor metus."
)), names = "", class = "data.frame", row.names = c(NA, -2L))

# table setup -----------------------------------
cd <- list()
options <- list(dom = "<'top' p>", ordering = FALSE, pageLength = 2, columnDefs = cd)
DT::datatable(table, options, selection = "none", rownames = FALSE, escape = FALSE)
```


#### Short Tables

If the number of rows is less than `maxrows` there will be no pagination. Set colwidths to have more control over column widths. 

```
scroll_table(table, colwidths = c(.1, .9), maxrows = 3)
```

```{r}
#| echo: false

# table data ------------------------------------
table <- structure(list(id = 1:3, text = c("Dolor urna mus libero dui consequat quisque sapien nibh curae eros.", 
"Consectetur hac integer urna pharetra ridiculus penatibus magna magnis nisi ac?", 
"Adipiscing ultrices imperdiet lectus bibendum massa facilisis suscipit."
)), class = "data.frame", row.names = c(NA, -3L))

# table setup -----------------------------------
cd <- list(list(targets = 0, width = "10%"), list(targets = 1, width = "90%"))
options <- list(dom = "t", ordering = FALSE, pageLength = 3, columnDefs = cd)
DT::datatable(table, options, selection = "none", rownames = FALSE, escape = FALSE)
```

#### Wide Scroll Tables

Set the `column` argument to control display location.

```
scroll_table(table, column = "page")
```

```{r}
#| echo: false
#| column: page

# table data ------------------------------------
table <- structure(list(id = 1:2, text = c("Ipsum condimentum eu aenean cubilia, sapien ridiculus vestibulum dui, eleifend bibendum. Posuere vel sociosqu curae eget sociis ligula mattis litora tortor, ultricies sem quis auctor nisl pretium feugiat tempor luctus.", 
"Ipsum aliquam magna diam nam pretium: cum habitant tempor habitasse aenean eleifend pulvinar? Condimentum malesuada eros erat per augue ultrices; platea mi congue egestas litora purus per bibendum, nec duis odio cras?"
)), class = "data.frame", row.names = c(NA, -2L))

# table setup -----------------------------------
cd <- list()
options <- list(dom = "t", ordering = FALSE, pageLength = 2, columnDefs = cd)
DT::datatable(table, options, selection = "none", rownames = FALSE, escape = FALSE)
```

### Collapsible Sections {.info}

Use `collapse_section()` to enclose a text vector in a coollapsible callout. 

```
collapse_section(text, 
                 title = "Learn More", 
                 callout = c("tip", "note", "warning", "important", "caution"), 
                 collapse = TRUE)
```

`collapse_section(text)`

`r metacheck::collapse_section("Here are some more more details...")`

You can change the title, callout type, and set them to default open.

`collapse_section(text, "Help!", "caution", FALSE)`

`r metacheck::collapse_section("Don't do that.", "Caution", "caution", FALSE)`


### Format References {.info}

You can use `format_ref()` on a bibentry or bibtext object to consistently format a reference.

```{r}
#| results: 'asis'

marg_ref <- bibentry(
  bibtype = "Article",
  title = "The Prevalence of Marginally Significant Results in Psychology Over Time",
  author = "Olsson-Collentine, A., van Assen, M. A. L. M., & Hartgerink, C. H. J.",
  year = "2019",
  journal = "Psychological Science",
  volume = 30,
  issue = 4,
  pages = "576--586",
  doi = "10.1177/0956797619830326"
)

format_ref(marg_ref) |> cat()
```
